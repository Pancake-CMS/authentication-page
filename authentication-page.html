<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../authenticate-button/authenticate-button.html">
<link rel="import" href="../polymerfire/firebase-app.html">

<dom-module id="authentication-page">
  <template>
    <style>
      :host{
        @apply(--layout-horizontal);
        @apply(--layout-fullbleed);
        font-family: 'Roboto Condensed', sans-serif;
        background: #edfdf9;
      }
      .left {
        padding: 50px;
        text-align: center;
        @apply(--layout-flex-8);
        @apply(--layout-vertical);
      }
      .right{
        padding: 50px;
        border-left: 2px solid #ebebeb;
        @apply(--layout-flex-4);
      }

      h3 {
        text-transform: uppercase;
        text-align: center;
        font-weight: normal;
        font-size: 25px;
      }
      .left-buttons{
        @apply(--layout-flex);
        @apply(--layout-center);
      }
    </style>
    <firebase-app
        auth-domain="__YOUR_AUTH_DOMAIN__"
        database-url="__YOUR_DATABASE_URL__"
        api-key="__YOUR_API_KEY__">
    </firebase-app>
    <div class="left">
      <h3>Login</h3>
      <div class="left-buttons">
        <authenticate-button mode="github" on-login-success="handleLoginSuccess"></authenticate-button>
        <authenticate-button mode="google"></authenticate-button>
      </div>
    </div>
    <div class="right">
      <h3>Pancake Project</h3>
      <p>If you are not able to login, please ask your administrator to add you into the system</p>
    </div>
  </template>
  <script>
    Polymer({
      is: 'authentication-page',

      properties: {
        config:  {
          type: Object,
          notify: true
        },

        hasConfig: {
          type: Boolean,
          notify: true,
          value: false
        }
      },

      /*
       * Handles successfull login
       */
      handleLoginSuccess: function(e, detail) {
        this.fire('authentication-success',{
          user: detail.user
        });
      }
    });
  </script>
</dom-module>
